!function t(e,i,a){function n(o,r){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!r&&h)return h(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return n(i?i:t)},u,u.exports,t,e,i,a)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(t,e,i){var a=2048,n=1151,s=1300;e.exports={width:s,height:s*(n/a),f3:new Kiwi.Geom.Rectangle(0,0,s,s*(n/a)),e8:a,sceneResolutionHeight:n,backgroundColor:"#BBBBBB",plugins:["RepeatingTexture"]}},{}],2:[function(t,e,i){var a=t("./f5"),n=new Kiwi.Game("content","RedHood",null,a);n.stage.color=a.backgroundColor,n.states.addState(t("./a1/c8.js")),n.states.addState(t("./a1/a1/a1")),n.states.switchState("c8")},{"./f5":1,"./a1/a1/a1":6,"./a1/c8.js":8}],3:[function(t,e,i){var a=t("./../../a2/a1");e.exports=function(){a.a1(this,"bg",0,0,{a1:!0}),a.a1(this,"fog2Add",325,200,{blendMode:"ADD",a1:!0,type:Kiwi.Plugins.GameObjects.RepeatingTexture}),a.a1(this,"fence",989,490,{a1:!0}),a.a1(this,"house",185,74,{a1:!0}),a.a1(this,"batEyes",876,240,{a1:!0}),a.a1(this,"windowLight",863,416,{blendMode:"ADD",a1:!0}),a.a1(this,"doorLight",699,409,{blendMode:"ADD",a1:!0}),a.a1(this,"basin",535,419,{a1:!0}),a.a1(this,"fog1Add",325,310,{blendMode:"ADD",a1:!0,type:Kiwi.Plugins.GameObjects.RepeatingTexture}),a.a1(this,"hayfork",1145,455,{a1:!0}),a.a1(this,"jug",1281,480,{a1:!0}),a.a1(this,"crow1",1259,441,{a1:!0}),a.a1(this,"crow2",1307,271,{a1:!0}),a.a1(this,"chicken2",1226,597,{a1:!0}),a.a1(this,"lamp",1582,364,{rotX:43,rotY:3,a1:!0}),a.a1(this,"trees",311,0,{a1:!0}),a.a1(this,"branch3",858,0,{rotX:-30,rotY:-10,a1:!0}),a.a1(this,"rug",553,71,{a1:!0}),a.a1(this,"chicken1",623,639,{a1:!0}),a.a1(this,"lampLight",1371,362,{blendMode:"ADD",rotX:255,rotY:6,a1:!0}),a.a1(this,"lampReflex",1726,339,{blendMode:"ADD",a1:!0}),a.a1(this,"key",1785,514,{a1:!0}),a.a1(this,"grass",492,569,{rotX:41,rotY:216,a1:!0}),a.a1(this,"grass2",1377,588,{rotX:132,rotY:200,a1:!0}),a.a1(this,"branches",1603,522,{rotX:259,rotY:404,a1:!0}),a.a1(this,"fenceForeground",1543,738,{a1:!0}),a.a1(this,"matches",490,790,{a1:!0}),a.a1(this,"wheel",515,774,{a1:!0})}},{"./../../a2/a1":9}],4:[function(t,e,i){var a=t("./../../a2/B3/a1");e.exports=function(){var t=new a(this.game,!0,function(t){this.rug.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(t.d1()),this.grass.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(-.6*t.d1(300))});t.a1({value:-2,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),t.a1({value:2,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),setTimeout(function(){t.start()},300),this.a2(t);var e=new a(this.game,!0,function(t){this.branch3.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(t.d1())});e.a1({value:2,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),e.a1({value:0,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),e.start(),this.a2(e);var i=new a(this.game,!0,function(t){this.lampLight.transform.rotation=this.lamp.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(t.d1(150))});i.a1({value:-1,duration:1e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),i.a1({value:1,duration:1e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),setTimeout(function(){i.start()},100),this.a2(i);var n=new a(this.game,!0,function(t){this.grass2.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(-1*t.d1(0)),this.branches.transform.rotation=Kiwi.Utils.GameMath.degreesToRadians(t.d1(80))});n.a1({value:-1,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),n.a1({value:1,duration:2e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),setTimeout(function(){n.start()},100),this.a2(n);var s=new a(this.game,!0,function(t){this.batEyes.alpha=t.d1()});s.a1({value:0,duration:500,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:3e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:0,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:0,duration:300,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:500,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:0,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:0,duration:300,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:1,duration:4e3,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.a1({value:0,duration:40,easing:Kiwi.Animations.Tweens.Easing.Quadratic.Out}),s.start(),this.a2(s)}},{"./../../a2/B3/a1":13}],5:[function(t,e,i){function a(t,e){if(!this.a4.hitTest({x:t,y:e}))for(var i=0;i<this.a3.length;i++)if(this.a3[i].click({x:t,y:e}))return}var n=t("./../../a2/f7"),s=t("./../../a2/f8");e.exports=function(){this.a4=new s(this);var t=new n(this,"chicken1");t.b1(this.chicken1,{x:0,y:-5}),t.a7(this.chicken1),t.a8(this.chicken1),this.a9(t);var e=new n(this,"matches");e.b1(this.matches),e.a8(this.matches),e.a7(this.matches),this.a9(e);var i=new n(this,"basin");i.b1(this.basin,{x:30,y:-10}),i.a8(this.basin),i.a7(this.basin,{x:70,y:10,height:-30,width:-70}),this.a9(i);var o=new n(this,"hayfork");o.b1(this.hayfork),o.a8(this.hayfork),o.a7(this.hayfork,{y:100,width:-30,height:-100}),o.a7(this.hayfork,{x:30,width:-30,height:-90}),this.a9(o);var r=new n(this,"rug");r.b1(this.rug),r.a8(this.rug),r.a7(this.rug,{x:10,width:-10}),this.a9(r);var h=new n(this,"key");h.b1(this.key),h.a8(this.key),h.a7(this.key,{x:10,width:-10}),this.a9(h);var d=new n(this,"bat");d.b1(this.batEyes),d.a8(this.batEyes),d.a7(this.batEyes,{x:10,width:-10}),this.a9(d),this.game.input.onDown.add(a,this),this.a4.b2({b3:0,tag:"key",image:"keyInv",b4:40,A1:50}),this.a4.b2({b3:1,tag:"matches",image:"matchesInv",b4:32,A1:48}),this.a4.b2({b3:2,tag:"bat",image:"batInv",b4:10,A1:20}),this.a4.b2({b3:3,tag:"basin",image:"basinInv",b4:35,A1:30}),this.a4.b2({b3:4,tag:"chicken1",image:"chicken1Inv",b4:37,A1:17}),this.a4.b2({b3:5,tag:"hayfork",image:"hayforkInv",b4:8,A1:20}),this.a4.b2({b3:6,tag:"rug",image:"rugInv",b4:0,A1:15})}},{"./../../a2/f7":10,"./../../a2/f8":11}],6:[function(t,e,i){t("./../../a2/a6");var a=t("./../../a2/a1"),n=t("./../../a2/a5"),s=new Kiwi.State("in-front-of-the-house-state");e.exports=s,a.setStateAssetsDefaultPath(s,"assets/in-front-of-the-house-state"),s.preload=function(){t("./B1").call(this)},s.create=function(){this.init(),this.b9=new n(this.game,1,.7,1,.05,.2),this.lampLightDimming=new n(this.game,1,.82,1,.05,.15),t("./b5").call(this),t("./b6").call(this),t("./b7").call(this)},s.update=function(){Kiwi.State.prototype.update.call(this),this.windowLight.alpha=this.doorLight.alpha=this.b9.B6(),this.lampLight.alpha=this.lampReflex.alpha=this.lampLightDimming.B6(),this.fog2Add.cellOffsetX=this.game.time.now()*-.015,this.fog1Add.cellOffsetX=this.game.time.now()*-.02,this.e9(),this.c1()},s.c1=function(){this.game.input.keyboard.isDown(187)&&this.c2({x:this.c5,y:this.c6},this.zoom+.005),this.game.input.keyboard.isDown(189)&&this.c2({x:this.c5,y:this.c6},this.zoom-.005),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.S)&&(this.windowLight.y+=.1),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.E)&&(this.windowLight.x+=.1),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.W)&&(this.windowLight.y-=.1),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.Q)&&(this.windowLight.x-=.1),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.LEFT)&&this.c2({x:this.c5-5,y:this.c6},this.zoom),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.RIGHT)&&this.c2({x:this.c5+5,y:this.c6},this.zoom),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.UP)&&this.c2({x:this.c5,y:this.c6-5},this.zoom),this.game.input.keyboard.isDown(Kiwi.Input.Keycodes.DOWN)&&this.c2({x:this.c5,y:this.c6+5},this.zoom)}},{"./../../a2/a1":9,"./../../a2/a5":12,"./../../a2/a6":16,"./b5":3,"./b6":4,"./b7":5,"./B1":7}],7:[function(t,e,i){var a=t("./../../a2/a1");e.exports=function(){a.c7(this,"bg","bg.png"),a.c7(this,"fog1Add","fog_1_add.png"),a.c7(this,"fog2Add","fog_2_add.png"),a.c7(this,"house","house.png"),a.c7(this,"doorLight","door_light_add.png"),a.c7(this,"windowLight","window-light.png"),a.c7(this,"basin","basin.png"),a.c7(this,"fence","fence.png"),a.c7(this,"hayfork","hayfork.png"),a.c7(this,"jug","jug.png"),a.c7(this,"crow1","crow_1.png"),a.c7(this,"crow2","crow_2.png"),a.c7(this,"chicken1","chicken_1.png"),a.c7(this,"chicken2","chicken_2.png"),a.c7(this,"lamp","lamp.png"),a.c7(this,"trees","trees.png"),a.c7(this,"branch3","branch_3.png"),a.c7(this,"lampLight","lamp_light_add.png"),a.c7(this,"lampReflex","lamp_reflex_add.png"),a.c7(this,"key","key.png"),a.c7(this,"grass","grass.png"),a.c7(this,"grass2","grass_2.png"),a.c7(this,"rug","rug.png"),a.c7(this,"fenceForeground","fence_foreground.png"),a.c7(this,"branches","branches.png"),a.c7(this,"batEyes","bat_eyes.png"),a.c7(this,"matches","matches.png"),a.c7(this,"wheel","wheel.png"),a.c7(this,"basinInv","inventory/basin_inv.png"),a.c7(this,"chicken1Inv","inventory/chicken_1_inv.png"),a.c7(this,"hayforkInv","inventory/hayfork_inv.png"),a.c7(this,"matchesInv","inventory/matches_inv.png"),a.c7(this,"rugInv","inventory/rug_inv.png"),a.c7(this,"keyInv","inventory/key_inv.png"),a.c7(this,"batInv","inventory/bat_inv.png")}},{"./../../a2/a1":9}],8:[function(t,e,i){var a=new Kiwi.State("c8");e.exports=a,a.preload=function(){a.addSpriteSheet("magicFlame","assets/common/magic_flame_effect.png",256,300,!0),a.addImage("a4Image","assets/common/obj_panels.png",!0)},a.create=function(){this.game.states.switchState("in-front-of-the-house-state")}},{}],9:[function(t,e,i){e.exports={},e.exports.setAdditiveRenderer=function(t,e){var i=null;t.game.renderer.addSharedRendererClone("TextureAtlasRenderer",e)&&(i=t.game.renderer.requestSharedRenderer(e),i.blendMode.setMode("ADD")),t.glRenderer=i},e.exports.setStateAssetsDefaultPath=function(t,e){t._stateAssetsDefaultFolder=e},e.exports.c7=function(t,e,i){t.addImage(e,t._stateAssetsDefaultFolder+"/"+i,!1)},e.exports.a1=function(t,e,i,a,n){n||(n={}),"undefined"==typeof n.rotX&&(n.rotX=0),"undefined"==typeof n.rotY&&(n.rotY=0),"undefined"==typeof n.a1&&(n.a1=!1),"undefined"==typeof n.textureName&&(n.textureName=e),"undefined"==typeof n.type&&(n.type=Kiwi.GameObjects.Sprite);var s=n.type;t[e]=new s(t,t.textures[n.textureName],i,a),n.a1&&t.f1(t[e],new Kiwi.Geom.Rectangle(i,a,t[e].width,t[e].height)),t.mapScene(t[e]),t.addChild(t[e]),t.e5(t[e],{x:n.rotX,y:n.rotY}),"ADD"===n.blendMode&&this.setAdditiveRenderer(t[e],e+"renderer")},e.exports.generateFrameSequence=function(t,e){for(var i=[],a=t;e>=a;a++)i.push(a);return i}},{}],10:[function(t,e,i){var a=t("./a1"),n=t("./B3/a1"),s=function(t,e){this.state=t,this.tag=e,this.center={x:0,y:0},this.parts=[],this.hitRects=[]};s.prototype.b1=function(t,e){t.game&&(this.center.x=this.state.d6(t.x)+t.width/2,this.center.y=this.state.d7(t.y)+t.height/2,e&&(e.x&&(this.center.x+=e.x),e.y&&(this.center.y+=e.y)))},s.prototype.a8=function(t){this.parts.push(t)},s.prototype.a7=function(t,e){t.game&&(t=t.box.rawHitbox.clone(),t.x=this.state.d6(t.x),t.y=this.state.d7(t.y)),e&&(e.height&&(t.height+=e.height),e.width&&(t.width+=e.width),e.x&&(t.x+=e.x),e.y&&(t.y+=e.y)),this.hitRects.push(t)},s.prototype.click=function(t){if(this.discovered)return!1;for(var e=0;e<this.hitRects.length;e++){var i=this.hitRects[e].clone();if(i.height=this.state.e4(i.height),i.width=this.state.e2(i.width),i.x=this.state.d8(i.x),i.y=this.state.d9(i.y),i.contains(t.x,t.y))return this.discover(),!0}return!1},s.prototype.discover=function(){var t=256,e=300;this.discovered=!0,this.flame=new Kiwi.GameObjects.Sprite(this.state,this.state.textures.magicFlame,this.center.x-t/2,this.center.y-e+25),this.state.addChild(this.flame),this.state.mapScene(this.flame),this.flame.animation.add("run",a.generateFrameSequence(0,55),.02,!1,!0),this.flame.animation.onStop.add(this.flameAnimationStop,this),this.state.a4.objectDiscovered(this.tag);var i=this,s=new n(this.state.game,!1,function(t){if(t.d2()){for(var e=0;e<i.parts.length;e++)i.state.removeChild(i.parts[e],!0);i.state.una2(t),i.state.una9(i)}else for(var a=t.d1(),e=0;e<i.parts.length;e++)i.parts[e].alpha=a});s.a1({value:1,duration:0}),s.a1({value:0,duration:1e3}),s.start(),this.state.a2(s)},s.prototype.flameAnimationStop=function(t){var e=this.state,i=this.flame;setTimeout(function(){e.removeChild(i,!0)})},e.exports=s},{"./a1":9,"./B3/a1":13}],11:[function(t,e,i){var a=t("./a1"),n=t("./B3/a1"),s=function(t){this.state=t,this.items=[],a.a1(this.state,"a4Image",318,918),this.hitBox=this.state.a4Image.box.rawHitbox.clone(),this.hitBox.width=this.state.e1(this.hitBox.width),this.hitBox.height=this.state.e3(this.hitBox.height)};s.prototype.b2=function(t){var e=this.getCellPosition(t.b3);t.b4||(t.b4=0),t.A1||(t.A1=0),a.a1(this.state,t.image,e.x+t.b4,e.y+t.A1),this.state[t.image].alpha=0,this.items.push({image:this.state[t.image],tag:t.tag})},s.prototype.objectDiscovered=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.tag===t){var a=this,s=new n(this.state.game,!1,function(t){t.d2()?a.state.una2(t):t.item.image.alpha=t.d1()});return s.item=i,s.a1({value:1,duration:700}),s.start(),void this.state.a2(s)}}},s.prototype.hitTest=function(t){return this.hitBox.contains(t.x,t.y)},s.prototype.getCellPosition=function(t){return{x:this.state.d6(this.state.a4Image.x)+455+181*t,y:this.state.d7(this.state.a4Image.y)+45}},e.exports=s},{"./a1":9,"./B3/a1":13}],12:[function(t,e,i){var a=t("./c9"),n=function(t,e,i,n,s,o){this.minVal=i?i:0,this.maxVal=n?n:1,this.B4=s?s:.05,this.B5=o?o:.3,d5iser=new a(t,e,this.minVal,this.maxVal,this.B4,this.B5)};n.prototype.B6=function(){return d5iser.next()},e.exports=n},{"./c9":14}],13:[function(t,e,i){var a=function(t,e,i){this.steps=[],this.repeat=e,this.game=t,this.B8=0,this.B9=null,this.B7=0,this.onUpdate=i};a.prototype.a1=function(t){this.steps.push(t),t.easing=t.easing?t.easing:Kiwi.Animations.Tweens.Easing.Linear.None,this.B7+=t.duration},a.prototype.start=function(){this.B9=this.game.time.now(),this.B8=0},a.prototype.update=function(t){this.onUpdate.call(t,this)},a.prototype.d2=function(){if(this.B9){var t=this.game.time.now()-this.B9;return t>this.B7?!this.repeat:!1}return!0},a.prototype.d1=function(t){if(this.B9){t=t?t:0;var e=this.game.time.now()-t-this.B9;if(e>this.B7){if(!this.repeat)return this.B9=null,this.B8=0,0;e>this.B7&&(this.B8=this.steps[this.steps.length-1].value),e%=this.B7}for(var i=0;i<this.steps.length;i++){var a=this.steps[i];if(!(e>a.duration)){var n=a.easing(e/a.duration),s=this.B8+(a.value-this.B8)*n;return s}e-=a.duration,this.B8=a.value}}return 0},e.exports=a},{}],14:[function(t,e,i){var a=function(t,e,i,a,n,s){var o=(new Date).getTime();d5=new Kiwi.Utils.RandomDataGenerator([o+""]),this.game=t,this.reconfigure(i,a,n,s),this.from=e,this.to=this.d4(),this.C1=this.d3(),this.C2=this.now()};a.prototype.reconfigure=function(t,e,i,a){this.minVal=t,this.maxVal=e,this.B4=i,this.B5=a},a.prototype.next=function(){var t=this.lerp(this.from,this.to,(this.now()-this.C2)/this.C1);return this.now()-this.C2>this.C1&&(this.from=this.to,this.to=this.d4(),this.C2=this.now(),this.C1=this.d3()),t},a.prototype.d4=function(){return d5.realInRange(this.minVal,this.maxVal)},a.prototype.d3=function(){return d5.realInRange(this.B4,this.B5)},a.prototype.lerp=function(t,e,i){return t+(e-t)*i},a.prototype.now=function(){return this.game.time.now()/1e3},e.exports=a},{}],15:[function(t,e,i){var a=t("./../f5");Kiwi.State.prototype.d8=function(t){return this.c4()+t*this.e6()},Kiwi.State.prototype.d6=function(t){return(t-this.c4())/this.e6()},Kiwi.State.prototype.d9=function(t){return this.c3()+t*this.e7()},Kiwi.State.prototype.d7=function(t){return(t-this.c3())/this.e7()},Kiwi.State.prototype.e2=function(t){return t*this.e6()},Kiwi.State.prototype.e1=function(t){return t/this.e6()},Kiwi.State.prototype.e4=function(t){return t*this.e7()},Kiwi.State.prototype.e3=function(t){return t/this.e7()},Kiwi.State.prototype.e5=function(t,e){t.transform.anchorPointX=e.x,t.transform.anchorPointY=e.y,t.transform.x-=e.x-e.x*this.e6(),t.transform.y-=e.y-e.y*this.e7(),t.rotationData=e},Kiwi.State.prototype.e6=function(){return a.f3.width/a.e8*this.zoom},Kiwi.State.prototype.e7=function(){return a.f3.height/a.sceneResolutionHeight*this.zoom},Kiwi.State.prototype.mapScene=function(t){var e=this.e6(),i=this.e7();return t.transform.setTransform(this.c4()+t.x*e,this.c3()+t.y*i,e,i)},Kiwi.State.prototype.c4=function(){return a.f3.x+this.c5},Kiwi.State.prototype.c3=function(){return a.f3.y+this.c6},Kiwi.State.prototype.c2=function(t,e){this.zoom=e,this.c5=t.x,this.c6=t.y;for(var i=0;i<this.f2.length;i++){var a=this.f2[i],n=a.object;n.x=a.rect.x,n.y=a.rect.y,this.mapScene(n),this.e5(n,n.rotationData)}}},{"./../f5":1}],16:[function(t,e,i){t("./b8"),Kiwi.State.prototype.init=function(){this.a3=[],this.animations=[],this.f2=[],this.zoom=1,this.c5=0,this.c6=0},Kiwi.State.prototype.a9=function(t){this.a3.push(t)},Kiwi.State.prototype.una9=function(t){var e=this.a3.indexOf(t);this.a3.splice(e,1)},Kiwi.State.prototype.a2=function(t){this.animations.push(t)},Kiwi.State.prototype.una2=function(t){var e=this.animations.indexOf(t);this.animations.splice(e,1)},Kiwi.State.prototype.e9=function(){this.animations||(this.animations=[]);for(var t=0;t<this.animations.length;t++)this.animations[t].update(this)},Kiwi.State.prototype.f1=function(t,e){this.f2.push({object:t,rect:e})}},{"./b8":15}]},{},[2]);